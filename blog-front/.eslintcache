[{"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/index.js":"1","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/App.js":"2","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/components/header/index.js":"3","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/components/home/index.js":"4","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/components/footer/index.js":"5","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/newblog/index.js":"6","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/blog/index.js":"7","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/map/index.js":"8","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/utli/storage.js":"9","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/api/request.js":"10","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/randomtags/index.js":"11","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/hot/index.js":"12","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/notfound/index.js":"13","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/context/index.js":"14","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/login/index.js":"15","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/blogs/index.js":"16","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/about/index.js":"17","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/components/comment/index.js":"18","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/postinfo/index.js":"19","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/upload/index.js":"20","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/api/axios.js":"21","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/commentinput/index.js":"22","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/commentlist/index.js":"23","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/card/index.js":"24","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/utli/addclick.js":"25","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/utli/timecovert.js":"26"},{"size":240,"mtime":1629953724521,"results":"27","hashOfConfig":"28"},{"size":810,"mtime":1633857790282,"results":"29","hashOfConfig":"28"},{"size":1253,"mtime":1629953724521,"results":"30","hashOfConfig":"28"},{"size":2049,"mtime":1633849830532,"results":"31","hashOfConfig":"28"},{"size":410,"mtime":1633853367439,"results":"32","hashOfConfig":"28"},{"size":2955,"mtime":1629953724525,"results":"33","hashOfConfig":"28"},{"size":1632,"mtime":1629953724522,"results":"34","hashOfConfig":"28"},{"size":1303,"mtime":1629953724524,"results":"35","hashOfConfig":"28"},{"size":263,"mtime":1629953724526,"results":"36","hashOfConfig":"28"},{"size":1455,"mtime":1629953724520,"results":"37","hashOfConfig":"28"},{"size":1336,"mtime":1629953724525,"results":"38","hashOfConfig":"28"},{"size":468,"mtime":1629953724524,"results":"39","hashOfConfig":"28"},{"size":102,"mtime":1629953724525,"results":"40","hashOfConfig":"28"},{"size":70,"mtime":1629953724523,"results":"41","hashOfConfig":"28"},{"size":1958,"mtime":1629953724524,"results":"42","hashOfConfig":"28"},{"size":3958,"mtime":1629953724522,"results":"43","hashOfConfig":"28"},{"size":1056,"mtime":1629953724522,"results":"44","hashOfConfig":"28"},{"size":434,"mtime":1629953724520,"results":"45","hashOfConfig":"28"},{"size":390,"mtime":1629953724525,"results":"46","hashOfConfig":"28"},{"size":1932,"mtime":1629953724526,"results":"47","hashOfConfig":"28"},{"size":556,"mtime":1629953724520,"results":"48","hashOfConfig":"28"},{"size":2010,"mtime":1629953724523,"results":"49","hashOfConfig":"28"},{"size":1114,"mtime":1629953724523,"results":"50","hashOfConfig":"28"},{"size":4169,"mtime":1629953724523,"results":"51","hashOfConfig":"28"},{"size":182,"mtime":1629953724526,"results":"52","hashOfConfig":"28"},{"size":134,"mtime":1629953724526,"results":"53","hashOfConfig":"28"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1j4vwa2",{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"60"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"60"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"60"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"60"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"60"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"60"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"60"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/index.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/App.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/components/header/index.js",[],["114","115"],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/components/home/index.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/components/footer/index.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/newblog/index.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/blog/index.js",["116"],"import React from \"react\";\nimport PostInfo from \"../postinfo\";\nimport { useState, useEffect } from \"react\";\nimport { getComments } from \"../../api/request\";\nimport \"./index.css\";\nimport moment from \"moment\";\nimport CommentCom from \"../../components/comment\";\nexport default function Blog(props) {\n  const { title, views, content, createdAt, tags, id } =\n    props.history.location.state;\n  var date = moment(parseInt(createdAt)).format(\"YYYY-MM-DD HH:mm:ss\");\n  var readingTime = minsCalculate(content);\n\n  //handle comments\n  const [lists, setlists] = useState([]);\n\n  //handle adding comment\n  const handleAddComment = (value) => {\n    setlists([...lists, value]);\n  };\n  useEffect(() => {\n    (async () => {\n      var result = await getComments();\n\n      var data = result.data.data.filter((item) => item.article_id === id);\n\n      setlists(data);\n    })();\n  }, []);\n\n  return (\n    <div className=\"blog\">\n      <div className=\"blog-header\">\n        <h1>{title}</h1>\n        <div className=\"postInfo\">\n          <PostInfo\n            date={date}\n            readingTime={readingTime}\n            tags={tags}\n            views={views}\n          />\n        </div>\n      </div>\n      <div\n        className=\"blog-content\"\n        dangerouslySetInnerHTML={{\n          __html: content,\n        }}\n      ></div>\n      <div className=\"blog-comment\">\n        <CommentCom\n          className=\"blog-comments\"\n          lists={lists}\n          handleAddComment={handleAddComment}\n          article_id={id}\n        ></CommentCom>\n      </div>\n    </div>\n  );\n}\n\nfunction minsCalculate(content) {\n  return Math.ceil(content.length / 400);\n}\n","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/map/index.js",["117"],"import React from \"react\";\nimport { List, Typography, Divider, Card } from \"antd\";\nimport \"./index.css\";\n\nconst data = [\n  \"Racing car sprays burning fuel into crowd.\",\n  \"Japanese princess to wed commoner.\",\n  \"Australian walks 100km after outback crash.\",\n  \"Man charged over missing wedding girl.\",\n  \"Los Angeles battles huge wildfires.\",\n];\nconst gridStyle = {\n  width: \"25%\",\n  textAlign: \"center\",\n};\nexport default function SiteMap() {\n  return (\n    <div>\n      <h1 className=\"maptitle\">Liang's Personal Blog SiteMap</h1>\n\n      <div className=\"articlelist\">\n        <Divider orientation=\"left\">New Articles</Divider>\n        <List\n          size=\"large\"\n          dataSource={data}\n          renderItem={(item) => <List.Item>{item}</List.Item>}\n        />\n      </div>\n      <div className=\"articletags\">\n        <Card title=\"Tags\">\n          <Card.Grid style={gridStyle}>Content</Card.Grid>\n          <Card.Grid style={gridStyle}>Content</Card.Grid>\n          <Card.Grid style={gridStyle}>Content</Card.Grid>\n          <Card.Grid style={gridStyle}>Content</Card.Grid>\n          <Card.Grid style={gridStyle}>Content</Card.Grid>\n          <Card.Grid style={gridStyle}>Content</Card.Grid>\n          <Card.Grid style={gridStyle}>Content</Card.Grid>\n        </Card>\n      </div>\n    </div>\n  );\n}\n","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/utli/storage.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/api/request.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/randomtags/index.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/hot/index.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/notfound/index.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/context/index.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/login/index.js",["118","119"],"import React, { useRef, useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport { Form, Input, Button, message } from \"antd\";\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\nimport { getUserInfo } from \"../../api/request\";\nimport { setUser } from \"../../utli/storage\";\nconst { Item } = Form;\nfunction Login(props) {\n  const formRef = useRef();\n  const onFinish = async (values) => {\n    const { username, password } = values;\n\n    var result = await getUserInfo(username, password);\n\n    if (result.data.status === 1) {\n      console.log(\"data\", result.data.data);\n      setUser(\"token\", result.data.data);\n      message.success(\"login success\");\n\n      props.history.push(\"/home\");\n    } else {\n      message.warn(\"sorry, you are not verified.Please try again\");\n    }\n  };\n  return (\n    <div className=\"loginForm\">\n      <Form\n        ref={formRef}\n        labelCol={{ span: 6, offset: 1 }}\n        wrapperCol={{ span: 10 }}\n        onFinish={onFinish}\n      >\n        <Item\n          label=\"Username\"\n          name=\"username\"\n          rules={[\n            {\n              required: true,\n              message: \"Please input your username!\",\n            },\n          ]}\n        >\n          <Input\n            prefix={<UserOutlined />}\n            placeholder=\"Username\"\n            autoComplete=\"false\"\n          />\n        </Item>\n        <Item\n          label=\"Password\"\n          name=\"password\"\n          rules={[\n            {\n              required: true,\n              message: \"Please input your password!\",\n            },\n          ]}\n        >\n          <Input\n            prefix={<LockOutlined />}\n            placeholder=\"Password\"\n            autoComplete=\"false\"\n          />\n        </Item>\n        <Button type=\"primary\" htmlType=\"submit\" className=\"loginButton\">\n          Login\n        </Button>\n      </Form>\n    </div>\n  );\n}\nexport default withRouter(Login);\n","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/blogs/index.js",["120","121"],"import React, { useState, useEffect, useRef } from \"react\";\nimport { Tag, Divider, Spin } from \"antd\";\nimport BlogCard from \"../card\";\nimport \"./index.css\";\nimport {\n  getSentence,\n  getBlogList,\n  getBlogwithTag,\n  getBlogListWithPage,\n  getComments,\n} from \"../../api/request\";\nimport {\n  DownCircleTwoTone,\n  SmileTwoTone,\n  setTwoToneColor,\n} from \"@ant-design/icons\";\n\nsetTwoToneColor(\"#06f\");\n\nexport default function Blogs(props) {\n  const scrollRaf = useRef();\n  //daily content\n  const [dailyContent, setDaliyContent] = useState();\n  const [dailyauthor, setdailyauthor] = useState();\n\n  //bloglist information\n  const [blogList, setblogList] = useState([]);\n\n  //spinning control(daily sentence)\n  const [spin, setspin] = useState(false);\n\n  //spinning control(blog list)\n  const [blogSpin, setblogSpin] = useState(false);\n\n  //page control\n  const [page, setpage] = useState(1);\n\n  //nodata indicator\n  const [noData, setnoData] = useState(false);\n\n  //comments lists\n  const [commentList, setCommentList] = useState([]);\n  //daily update\n  useEffect(() => {\n    async function updateEachHour() {\n      setspin(true);\n      var result = await getSentence();\n\n      var { forward, words_info } = result.data.data.content_list[0];\n      setspin(false);\n      setDaliyContent(forward);\n      setdailyauthor(words_info);\n    }\n    updateEachHour();\n    var timer = setInterval(updateEachHour, 1000 * 6 * 60); //update each hour\n\n    return clearInterval(timer);\n  }, []);\n\n  //get blog list information with page\n  useEffect(() => {\n    (async () => {\n      if (props.tag) {\n        const result = await getBlogwithTag(props.tag);\n        setblogList(result.data.data);\n        return;\n      }\n      setblogSpin(true);\n      var result = await getBlogListWithPage(page);\n      //var result = await getBlogList();\n      if (result.data.status === 1) {\n        //status==1 success\n        var blogs = result.data.data;\n        if (!blogs) {\n          setnoData(true);\n          setblogSpin(false);\n          return;\n        } //reach to the bottom, no more page\n\n        setblogList([...blogList, ...blogs]);\n        setblogSpin(false);\n      }\n    })();\n  }, [page, props.tag]);\n\n  //get blog comments\n  useEffect(() => {\n    (async () => {\n      var result = await getComments();\n      setCommentList(result.data.data);\n    })();\n  }, []);\n\n  const handleAddComment = (value) => {\n    setCommentList([...commentList, value]);\n  };\n\n  return (\n    <div className=\"blog-area\" ref={scrollRaf}>\n      <div className=\"everyday\">\n        <Divider orientation=\"left\">\n          <Tag color=\"#06f\">Daily Sentence:</Tag>\n        </Divider>\n        <Spin spinning={spin} className=\"forSpinning\" />\n        <p>{dailyContent}</p>\n        <div style={{ marginLeft: 30 }}>\n          &nbsp;&nbsp;{dailyauthor ? `-- ${dailyauthor}` : \"\"}\n        </div>\n      </div>\n      <div className=\"card-list\">\n        {blogList.map((blog, index) => {\n          var list =\n            commentList &&\n            commentList.filter((item) => item.article_id === blog.id);\n\n          return (\n            <BlogCard\n              key={index}\n              blog={blog}\n              list={list}\n              handleAddComment={handleAddComment}\n            ></BlogCard>\n          );\n        })}\n\n        <Spin size=\"large\" className=\"loading\" spinning={blogSpin} />\n        {noData ? (\n          <div style={{ textAlign: \"center\" }}>\n            <SmileTwoTone\n              twoToneColor=\"#06f\"\n              style={{ fontSize: \"2.5rem\", margin: \"auto\" }}\n            />\n          </div>\n        ) : (\n          \"\"\n        )}\n      </div>\n\n      {blogSpin || noData ? (\n        \"\"\n      ) : (\n        <button\n          className=\"nextButton\"\n          onClick={() => {\n            setpage(page + 1);\n          }}\n        >\n          <DownCircleTwoTone\n            twoToneColor=\"#06f\"\n            style={{ fontSize: \"2.5rem\" }}\n          />\n        </button>\n      )}\n    </div>\n  );\n}\n","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/about/index.js",["122","123","124"],"import React from \"react\";\nimport \"./index.css\";\nimport { Skeleton, Switch, Card, Avatar } from \"antd\";\nimport {\n  EditOutlined,\n  EllipsisOutlined,\n  SettingOutlined,\n} from \"@ant-design/icons\";\nimport { List } from \"antd/lib/form/Form\";\n\nconst { Meta } = Card;\nexport default function About() {\n  const loading = true;\n  return (\n    <div>\n      <div className=\"self-info\">\n        <Card\n          style={{ width: 600, marginTop: 16, borderRadius: \"2rem\" }}\n          actions={[\n            <SettingOutlined key=\"setting\" />,\n            <EditOutlined key=\"edit\" />,\n            <EllipsisOutlined key=\"ellipsis\" />,\n          ]}\n        >\n          <Skeleton avatar paragraph={{ rows: 4 }}>\n            <Meta\n              avatar={\n                <Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\n              }\n              title=\"Card title\"\n              description=\"This is the description\"\n            />\n          </Skeleton>\n        </Card>\n      </div>\n      <div className=\"comments\"></div>\n    </div>\n  );\n}\n","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/components/comment/index.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/postinfo/index.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/upload/index.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/api/axios.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/commentinput/index.js",["125","126","127","128","129","130"],"import React, { useState, useEffect, useRef } from \"react\";\nimport \"./index.css\";\nimport moment from \"moment\";\nimport { Comment, Avatar, Form, Button, List, Input, message } from \"antd\";\nimport { addComments } from \"../../api/request\";\n\nconst { TextArea } = Input;\nconst { Item } = Form;\nexport default function InputComment(props) {\n  const [form1] = Form.useForm();\n  const [value, setvalue] = useState(\"\");\n  const { handleAddComment, article_id } = props;\n\n  const handleChange = (e) => {\n    setvalue(e.target.value);\n  };\n  const handleSubmit = async () => {\n    const { name, comment } = form1.getFieldsValue();\n    //insert comment to database\n    var result = await addComments(name, comment, article_id);\n    if (result) {\n      var value = result.data.data;\n      handleAddComment && handleAddComment(value); //update comment in the lists\n      message.success(\"success!\");\n      form1.setFieldsValue({\n        name,\n        comment: \"\",\n      });\n    }\n  };\n  return (\n    <div style={{ marginTop: \"1rem\", marginBottom: \"2rem\" }}>\n      <Form form={form1} layout=\"inline\">\n        <Item\n          name=\"name\"\n          rules={[{ required: true, message: \"cannot be empty\" }]}\n        >\n          <Input\n            autoComplete=\"off\"\n            placeholder=\"name\"\n            style={{ width: \"10rem\", borderRadius: \"1rem\" }}\n          />\n        </Item>\n        <Item\n          name=\"comment\"\n          rules={[{ required: true, message: \"cannot be empty\" }]}\n        >\n          <TextArea\n            rows={1}\n            onChange={handleChange}\n            value={value}\n            placeholder=\"@who:comment\"\n            style={{ width: \"30rem\", borderRadius: \"1rem\" }}\n          />\n        </Item>\n        <Item>\n          <Button\n            htmlType=\"submit\"\n            onClick={handleSubmit}\n            type=\"primary\"\n            size=\"small\"\n            style={{ borderRadius: \"1rem\" }}\n          >\n            Comment\n          </Button>\n        </Item>\n      </Form>\n    </div>\n  );\n}\n","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/commentlist/index.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/pages/card/index.js",["131"],"import React, { useState, useEffect } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Tag } from \"antd\";\nimport { HeartTwoTone, CommentOutlined } from \"@ant-design/icons\";\nimport covert from \"../../utli/timecovert\";\nimport CommentCom from \"../../components/comment\";\nimport { addLikes } from \"../../api/request\";\nimport addclick from \"../../utli/addclick\";\nimport \"./index.css\";\n\nexport default function BlogCard(props) {\n  const [readMore, setReadMore] = useState(true);\n  const [commentMore, setCommentMore] = useState(false);\n\n  const [lists, setlists] = useState(props.list);\n  var { id, title, views, content, createdAt, tags, img, likes } = props.blog;\n  var { list, handleAddComment } = props;\n\n  var newHtml = onlyShowText(content);\n  //handle likes\n  const [blogLiks, setblogLikes] = useState();\n  const [clicked, setclicked] = useState(false);\n  var date = covert(createdAt);\n\n  var wrapup = readMore ? (\n    <div className=\"card-content\">\n      <div className=\"card-img\">\n        <img src={img} alt=\"\" />\n      </div>\n      <div className=\"card-text\">\n        <div\n          className=\"card-text-para\"\n          dangerouslySetInnerHTML={{ __html: newHtml }}\n        ></div>\n        <button\n          className=\"card-text-button\"\n          onClick={() => {\n            setReadMore(false);\n          }}\n        >\n          Read More\n        </button>\n      </div>\n    </div>\n  ) : (\n    <div className=\"card-content\">\n      <div className=\"card-text\">\n        <p dangerouslySetInnerHTML={{ __html: content }}></p>\n        <button\n          className=\"card-text-button\"\n          onClick={() => {\n            setReadMore(true);\n          }}\n        >\n          Wrap Up\n        </button>\n      </div>\n    </div>\n  );\n\n  //initial the lists value\n  useEffect(() => {\n    setlists(list);\n  }, [list]);\n\n  //hanle likes\n  useEffect(() => {\n    console.log(\"ruuning\");\n    setblogLikes(likes);\n  }, [likes]);\n\n  const handleLikes = async (id, likes) => {\n    const result = await addLikes(id, likes);\n    if (result) {\n      console.log(\"add success\");\n    }\n  };\n  return (\n    <div className=\"blog-card\">\n      <NavLink\n        to={{\n          pathname: `/blog/${id}`,\n          state: props.blog,\n        }}\n      >\n        <div\n          className=\"card-title\"\n          onClick={() => {\n            addclick(id);\n          }}\n        >\n          {title}\n        </div>\n      </NavLink>\n      {wrapup}\n      <div className=\"card-action\">\n        {!clicked ? (\n          <button\n            className=\"thumb\"\n            onClick={() => {\n              handleLikes(id, likes + 1);\n              setblogLikes(blogLiks + 1);\n              setclicked(true);\n            }}\n          >\n            <HeartTwoTone twoToneColor=\"#1890ff\" />\n            <span style={{ marginLeft: \"0.5rem\" }}>{blogLiks}</span>\n          </button>\n        ) : (\n          <button\n            className=\"thumb\"\n            onClick={() => {\n              handleLikes(id, likes);\n              setblogLikes(blogLiks - 1);\n              setclicked(false);\n            }}\n          >\n            <HeartTwoTone twoToneColor=\"#eb2f96\" />\n            <span style={{ marginLeft: \"0.5rem\" }}>{blogLiks}</span>\n          </button>\n        )}\n        <span>{date}</span>\n        <span>\n          <Tag color=\"#bae7ff\"> {tags}</Tag>\n        </span>\n        <button\n          onClick={() => {\n            setCommentMore(!commentMore);\n          }}\n        >\n          <CommentOutlined />\n          <span style={{ marginLeft: 3 }}>\n            {commentMore ? \"Wrap Up\" : `${lists.length} Comments`}\n          </span>\n        </button>\n      </div>\n      <div style={{ display: commentMore ? \"block\" : \"none\" }}>\n        <CommentCom\n          lists={lists}\n          handleAddComment={handleAddComment}\n          article_id={id}\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction onlyShowText(html) {\n  var blackList = [\"img\", \"video\", \"table\", \"code\"];\n\n  var blockString1 = blackList.map((item) => `(<${item})`).join(\"|\");\n\n  var reg = new RegExp(blockString1, \"g\");\n\n  var newHtml = html.replace(reg, (a, b, c) => {\n    return a + ` style=\"display:none\" `;\n  });\n  return newHtml;\n}\n","/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/utli/addclick.js",[],"/Users/guoliang/Desktop/project/project-react-newblog/blog-front/src/utli/timecovert.js",[],{"ruleId":"132","replacedBy":"133"},{"ruleId":"134","replacedBy":"135"},{"ruleId":"136","severity":1,"message":"137","line":29,"column":6,"nodeType":"138","endLine":29,"endColumn":8,"suggestions":"139"},{"ruleId":"140","severity":1,"message":"141","line":2,"column":16,"nodeType":"142","messageId":"143","endLine":2,"endColumn":26},{"ruleId":"140","severity":1,"message":"144","line":1,"column":25,"nodeType":"142","messageId":"143","endLine":1,"endColumn":33},{"ruleId":"140","severity":1,"message":"145","line":1,"column":35,"nodeType":"142","messageId":"143","endLine":1,"endColumn":44},{"ruleId":"140","severity":1,"message":"146","line":7,"column":3,"nodeType":"142","messageId":"143","endLine":7,"endColumn":14},{"ruleId":"136","severity":1,"message":"147","line":84,"column":6,"nodeType":"138","endLine":84,"endColumn":23,"suggestions":"148"},{"ruleId":"140","severity":1,"message":"149","line":3,"column":20,"nodeType":"142","messageId":"143","endLine":3,"endColumn":26},{"ruleId":"140","severity":1,"message":"150","line":9,"column":10,"nodeType":"142","messageId":"143","endLine":9,"endColumn":14},{"ruleId":"140","severity":1,"message":"151","line":13,"column":9,"nodeType":"142","messageId":"143","endLine":13,"endColumn":16},{"ruleId":"140","severity":1,"message":"145","line":1,"column":27,"nodeType":"142","messageId":"143","endLine":1,"endColumn":36},{"ruleId":"140","severity":1,"message":"152","line":1,"column":38,"nodeType":"142","messageId":"143","endLine":1,"endColumn":44},{"ruleId":"140","severity":1,"message":"153","line":3,"column":8,"nodeType":"142","messageId":"143","endLine":3,"endColumn":14},{"ruleId":"140","severity":1,"message":"154","line":4,"column":10,"nodeType":"142","messageId":"143","endLine":4,"endColumn":17},{"ruleId":"140","severity":1,"message":"155","line":4,"column":19,"nodeType":"142","messageId":"143","endLine":4,"endColumn":25},{"ruleId":"140","severity":1,"message":"150","line":4,"column":41,"nodeType":"142","messageId":"143","endLine":4,"endColumn":45},{"ruleId":"140","severity":1,"message":"156","line":16,"column":20,"nodeType":"142","messageId":"143","endLine":16,"endColumn":25},"no-native-reassign",["157"],"no-negated-in-lhs",["158"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.","ArrayExpression",["159"],"no-unused-vars","'Typography' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","'useEffect' is defined but never used.","'getBlogList' is defined but never used.","React Hook useEffect has a missing dependency: 'blogList'. Either include it or remove the dependency array. You can also do a functional update 'setblogList(b => ...)' if you only need 'blogList' in the 'setblogList' call.",["160"],"'Switch' is defined but never used.","'List' is defined but never used.","'loading' is assigned a value but never used.","'useRef' is defined but never used.","'moment' is defined but never used.","'Comment' is defined but never used.","'Avatar' is defined but never used.","'views' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"161","fix":"162"},{"desc":"163","fix":"164"},"Update the dependencies array to be: [id]",{"range":"165","text":"166"},"Update the dependencies array to be: [blogList, page, props.tag]",{"range":"167","text":"168"},[866,868],"[id]",[2164,2181],"[blogList, page, props.tag]"]